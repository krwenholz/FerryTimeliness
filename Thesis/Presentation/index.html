<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

    <title>Where's my Ferry?</title>

    <meta name="description" content="Support Vector Machines for Modeling
      Ferry Tardiness">
		<meta name="author" content="Kyle R. Wenholz">
    
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/custom.css" id="theme">

    <link rel="stylesheet" href="css/font-awesome.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
      <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
          <section data-markdown>
            <h2>Where's my Ferry?</h2>
            <h3>Support Vector Machines for </br> Modeling Ferry Tardiness</h3>
            <p>
            <small>By Kyle Wenholz 
              </br>Advised by Professor Brad Richards
            </small>
            </p>
          </section>

          <!-- 
            TODO: One decimal point of accuracy
            TODO: Don't talk so much about creating an App
            TODO: discuss where estimates come from! Test data vs. Train data
            TODO: Don't read points off of longer slides (audience is literate)
            TODO: Focus on how it was awesome of me to consider weather as a 
              possible cause of tardiness
            FIXME: EXPLAIN WHY BAD DATA HURTS
            FIXME: font awesome is broken
          -->

          
          <section data-markdown>
          <script type="text/template">
            ## All the parts of a good time <i class="icon-sitemap"></i>
              * <p class="fragment roll-in">Hyperplanes</p>
              * <p class="fragment roll-in">Ferries</p>
              * <p class="fragment roll-in">Massive CSV files</p>
              * <p class="fragment roll-in">Tardiness</p>
            </script>
          <aside class="notes">
            This is an introduction slide.  I just need to quickly go over
            who I worked with, that I wanted to learn about AI in practical 
            situations and do something real with real data, what my project 
            was (Senior Project/Thesis), what's the problem, and what my 
            solution was.
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Project goals
            ### Attack a messy problem
            ### Learn some practical AI
            ### Work with big data
            <img src="images/correlation.png">
          </script>
          <aside class="notes">
          I want to talk about my major goals for the project.
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## The SVM-mobile
            * Features are intuitive
                - Route
                - Vessel
                - Weather
            * Hyperplanes are also intuitive (mostly)
            * SVMs were born for big data sets
          </script>
          <aside class="notes">
            Discuss the major benefits of SVM for my project: features, 
            the drawing analogy, use for big data. 

            A 2008 paper discussed the use of SVM for predicting a sort of 
            "bad day" for air traffic control (weather based mostly).  
            78% accurate on predicting need to use some sort of software 
            and 83% for predicting delays in air traffic.  They used a 
            super computer.
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Common uses of SVM
            * Spam
            * Cancer from images
            * Facial recognition
            <img style="float:right;margin:4px;"width="50%" height="50%" 
            src="images/male-female.png">
          </script>
          <aside class="notes">
            (email, cancer pictures, use in a paper regarding 
            airlines) 
          <aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Linear classifiers (part 1)
            ### Feature Vectors
                <
                 Time (seconds),
                 Humidity (percent),
                 Temperature (F),
                 Wind Speed (mph),
                 Wind Direction (degrees off N),
                 Vessel Name,
                 Route Name
                >

                <
                 360
                 10,
                 3,
                 6,
                 17,
                 USS Enterprise,
                 Pt. D/Tahlequah
                >

            Two of these are not like the others.
          </script>
          <aside class="notes">
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Visualizing an SVM
            <img src="images/Svm_separating_hyperplanes.png">
          </script>
          <aside class="notes">
            2. What an SVM is
                1. How an SVM works
                2. How it relates to the ferry problem
                    1. Separating late as >3 minutes past estimate
                    2. The data as points in >33 space
                3. The complication of fitting such a curve
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Linear classifiers (part 2)
            * Another vector for weights 
            * Output: dot product of feature and weight vector
            * Sign of dot product is the "class"
            </br></br>
            ## <p class="fragment roll-in">WOAH! Where do we get the weights?</p>
          </script>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Recipe for learning
            * Training data
            * A machine to train the weight vector
            * A mighty machine to do the calculations
            * Test data for validation
          </script>
          <aside class="notes">
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## A real world problem:
            ## <p class="fragment roll-in">Ferry data is unlikely to be separable.</p>
          </script>
          <aside class="notes">
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Kernels to infinity and beyond
            <img src="images/kernel-machine.png">
          </script>
          <aside class="notes">
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Tuning the kernel
            TODO: talk about a grid search here
          </script>
          <aside class="notes">
          </aside>
          </section>

          <section data-markdown>
            <script type="text/template">
              ## Why do we care about ferries?
              ### <p class="fragment roll-in">Scheduling is cool!</p>
              ### <p class="fragment roll-in">We can get lots of data!</p>
            </script>
            <aside class="notes">
              Talk about what the ferry system is (WSDOT), 
              and how many people use it, how the problem 
              extends.
            </aside>
          </section>
          
          <section >
          <h2> A portrait of the system</h2>
          <table>
            <tr>
              <td style="vertical-align:middle;">
                <ul>
                  <li> Established in 1951</li>
                  <li> 22 million passengers per year</li>
                  <li> 20 terminals, 10 routes, 23 vessels</li>
                  <li> Largest ferry system in the world for vehicles</li>
                  <li> From Victoria to Pt. Defiance (~130 miles)</li>
                  <li> 159,811 sailings in 2012 (12,764 in December)</li>
                  <li> Almost 10,000,000 vehicles in 2011</li>
                </ul>
              </td>
              <td valign="bottom">
                <img width="110%" 
                src="images/route-map-overview.gif" align="right">
              </td>
            </tr>
          </table>
          <aside class="notes">
            Go over the details of the ferry system.
            1. history
            1. Boats
            2. # Of trips per day
            3. Routes
            4. Places serviced
            6. Design and planning
            7. Resources for travelers
              1. Vessel Watch
              2. Pamphlets
              3. General knowledge
              4. Email alerts
            * Mention that ~95% of boats are on time.  This poses some interesting
              questions about what we can actually learn.
          </aside>
          </section>
          
          <section data-markdown>
          <script type="text/template">
            ## Sources and shades of data
            * <p class="fragment roll-in">Scraping web pages</p>
            * <p class="fragment roll-in">WSDOT VesselWatch</p>
            * <p class="fragment roll-in">NOAA Tacoma Narrows weather station</p>
            </script>
          <aside class="notes">
            1. Accessibility of the Vessel Watch data
                1. Briefly discuss the web page scraper
                    1. Using a simulated web browser
                    2. Accounting for "botched" grabs
                2. Using a request for the data
                    1. Discuss what I actually received
                    2. Discuss the quality and amount of data
            2. Grabbing weather data
                1. Grabbed from a deeply hidden NOAA archive
                2. Manually downloaded files
                3. Why the Tacoma Narrows station
                    1. Completeness of dates
                    2. Completeness of records
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Ferry data (340,902)
                Vessel,Departing,Arriving,Sched Depart,Actual Depart,Route Name,
                Initial ETA,Actual Arrival,Date

            </br>
            ## Weather data (1184 &times; 24)
                94274,20110101,0053,12,CLR, ,10.00, , , ,25, ,-3.9, ,22, ,-5.4, ,
                16, ,-8.9, , 69, , 0, ,000, , , ,29.69, ,1, ,002, ,30.04, ,AA, , ,
                ,30.03, 
          </script>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Weather variables <i class="icon-cloud"></i>

            <table style="padding: 10px 10px 10px 10px;">
              <tr>
                <td style="padding: 0px 110px 10px 150px;">
                  <ul>
                    <li> Date</li>
                    <li> Time</li>
                    <li> Visibility</li>
                    <li> Dry bulb</li>
                    <li> Wet bulb</li>
                    <li> Dew point</li>
                  </ul>
                </td>
                <td style="vertical-align:top;">
                  <ul>
                    <li> Relative humidity</li>
                    <li> Wind speed</li>
                    <li> Wind direction</li>
                    <li> Station pressure</li>
                    <li> Altimeter</li>
                  </ul>
                </td>
              </tr>
            </table>
          </script>
          <aside class="notes">
          Talk about the many weather variables I got from NOAA.
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Data monsters 
              * Python to clean the 340,902 ferry trips
                  - 1034 weather recordings had missing wind data
                  - 13,220 vessel trips removed from lack of weather data (~ 4%)
              * Python to format it
                  - Join ferry and weather data
                  - Handle categorical variables
                  - Make it all SVMable
              * Python ate my computer 
          </script>
          <aside class="notes">
            1. Discussion of data quality
              1. Missing values
              2. Ill formatted values
              3. Generally consistent (huge amount so a few mistakes is okay)
            2. Separated into 290,000 for training and 30,000 for testing
            2. Suite of Python scripts to cut out bad data
            3. Scripts to join weather and ferry data
            4. Performance issues encountered
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## LibSVM
            Chih-Chung Chang and Chih-Jen Lin

            "Working set selection using second 
            </br>order information for training SVM"

            <image height="40%" width="40%" src="images/chih-jen.gif">
          </script>
          <aside class="notes">
            3. Use of LibSVM
                1. Why not write my own?
                    1. Time
                    2. Correctness
                    3. Performance
                2. Use in other papers/popularity
                3. Ease of use of the library (reasonably documented)
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Goal refresh <i class="icon-refresh icon-spin"></i>
            * Which features matter?
            * Can it be made accurate?
            * Is it practical?
          </script>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## A first pass
            First runs were in low 60% range for accuracy.
            
            __Lesson learned__: LibSVM's beginner's guide is a must read.
            <img height="30%" width="30%" src="images/cat_and_mouse.jpg">
          </script>
          <aside class="notes">
            1. Needing to fit c and gamma parameters to get better curves
            2. Duration of runs and sheer size of data sets
            3. Using LibSVM to do heavy lifting for subsets and such
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## Results

            <table>
              <tr>
                <td>
                  <h3>Arrivals</h3>
                  <small>Full = Departure estimate and actual, </br>
                    arrival estimate, vessel name, route, all weather</small>
                  <ul>
                    <li>  Full: 87.0%</li>
                    <li>  No Weather: 88.0%</li>
                    <li>  No Departure: 60.0%</li>
                    <li>  No Departure, No Weather: 59.4%</li>
                  </ul>
                </td>
                <td>
                  <h3>Departures</h3>
                  <small>
                    Full = Departure estimate, vessel name, route, all weather
                  </small>
                  <li> Full: 76.3%</li>
                  <li> No Weather: 75.7%</li>
                </td>
              </tr>
            </table>
            </script>
          <aside class="notes">
            1. How do we know it's correct?
                1. Classification versus regression: I want a "useful" machine
                2. Test sets vs. training sets
            2. Review the numbers of the results
                1. Results before param fitting of c and gamma
                1. Departures
                    1. Weather
                    2. No weather
                2. The more interesting: arrivals
                    1. Weather
                    2. No weather
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            <table>
              <tr>
                <td style="vertical-align:middle;horizontal-align:right;">
                  <h3>Too hot </br>Too cold </br>Or just right</h3>
                </td>
                <td style="horizontal-align:right;">
                  <img width="70%" src="images/route-map-overview.gif" align="right">
                </td>
              </tr>
            </table>
          </script>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## How about that weather?
            
            <table>
              <tr>
                <td>
                  <h3>Arrivals</h3>
                  <small>Weather/No Weather</small>
                  <ul>
                    <li> Tahlequah-Point Defiance: 95.2%/93.9% </li>
                    <li> Coupeville-Port Townsend: 88.3%/87.7% </li>
                    <li> Kingston-Edmonds: 85.2%/94.7% </li>
                  </ul>
                </td>
                <td>
                  <h3>Departures </h3>
                  <small>Weather/No Weather</small>
                  <ul>
                    <li> Tahlequah-Point Defiance: 76.1/75.3% </li>
                    <li> Coupeville-Port Townsend: 68.8%/69.4% </li>
                    <li> Kingston-Edmonds: 82.7%/82.8% </li>
                  </ul>
                </td>
              </tr>
            </table>


          </script>
          <aside class="notes">
            Without information about the departure, the arrival time
              predictions were strictly less than 68% accuracy.
            1. Possible issues
                1. Location of station
                2. Poor quality of data
                3. My error
                4. Ferries really are consistent enough to not need weather
            2. Running individual routes
                1. Closest to Tacoma Narrows
                2. Middleish (randomly selected)
                3. Geographically furthest


            96.4% on time 
            Best: Pt. Defiance/Tahlequah and Edmonds/Kingston (99.5%)
            Worst: Anacortes/San Juans (88.9%)
          </aside>
          </section>

          <section data-markdown>
          <script type="text/template">
            ## In summary
            * Hyperplanes are more than an awesome word.
            * The ferry system is full of data we can mine.
            * SVM is hard!
            </script>
          <aside class="notes">
            1. Making an actual application
                1. State of Java web frameworks
                2. Need to scrape or grab user data
                3. Update SVM
            2. Are the schedules online adjusted as time goes by
            3. Mining the data for patterns
          </aside>
          </section>
          
          <section data-markdown>
          <script type="text/template">
            ## Any questions?
          </script>
          <aside class="notes">
          </aside>
          </section>




<!--------------------------------------------------------------------------
        LOADING SCRIPTS AND EXTRAS
--------------------------------------------------------------------------->

		<script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
